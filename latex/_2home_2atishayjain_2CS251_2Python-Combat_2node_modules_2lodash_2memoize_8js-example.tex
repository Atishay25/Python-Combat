\hypertarget{_2home_2atishayjain_2CS251_2Python-Combat_2node_modules_2lodash_2memoize_8js-example}{}\doxysection{/home/atishayjain/\+C\+S251/\+Python-\/\+Combat/node\+\_\+modules/lodash/memoize.\+js}
var object = \{ \textquotesingle{}a\textquotesingle{}\+: 1, \textquotesingle{}b\textquotesingle{}\+: 2 \}; var other = \{ \textquotesingle{}c\textquotesingle{}\+: 3, \textquotesingle{}d\textquotesingle{}\+: 4 \};

var values = \+\_\+.\+memoize(\+\_\+.\+values); values(object); // =$>$ \mbox{[}1, 2\mbox{]}

values(other); // =$>$ \mbox{[}3, 4\mbox{]}

object.\+a = 2; values(object); // =$>$ \mbox{[}1, 2\mbox{]}

// Modify the result cache. values.\+cache.\+set(object, \mbox{[}\textquotesingle{}a\textquotesingle{}, \textquotesingle{}b\textquotesingle{}\mbox{]}); values(object); // =$>$ \mbox{[}\textquotesingle{}a\textquotesingle{}, \textquotesingle{}b\textquotesingle{}\mbox{]}

// Replace {\ttfamily \+\_\+.\+memoize.\+Cache}. \+\_\+.\+memoize.\+Cache = Weak\+Map;


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{var MapCache = require(\textcolor{stringliteral}{'./\_MapCache'});}
\DoxyCodeLine{}
\DoxyCodeLine{var FUNC\_ERROR\_TEXT = \textcolor{stringliteral}{'Expected a function'};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{function} memoize(func, resolver) \{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (typeof func != \textcolor{stringliteral}{'function'} || (resolver != \textcolor{keyword}{null} \&\& typeof resolver != \textcolor{stringliteral}{'function'})) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{throw} \textcolor{keyword}{new} TypeError(FUNC\_ERROR\_TEXT);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  var memoized = \textcolor{keyword}{function}() \{}
\DoxyCodeLine{    var args = arguments,}
\DoxyCodeLine{        key = resolver ? resolver.apply(\textcolor{keyword}{this}, args) : args[0],}
\DoxyCodeLine{        cache = memoized.cache;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (cache.has(key)) \{}
\DoxyCodeLine{      \textcolor{keywordflow}{return} cache.get(key);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    var result = func.apply(\textcolor{keyword}{this}, args);}
\DoxyCodeLine{    memoized.cache = cache.set(key, result) || cache;}
\DoxyCodeLine{    \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{  \};}
\DoxyCodeLine{  memoized.cache = \textcolor{keyword}{new} (memoize.Cache || MapCache);}
\DoxyCodeLine{  \textcolor{keywordflow}{return} memoized;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Expose `MapCache`.}}
\DoxyCodeLine{memoize.Cache = MapCache;}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports = memoize;}
\end{DoxyCodeInclude}
 