\hypertarget{_2home_2atishayjain_2CS251_2Python-Combat_2node_modules_2jsdoc_2lib_2jsdoc_2util_2logger_8js-example}{}\doxysection{/home/atishayjain/\+C\+S251/\+Python-\/\+Combat/node\+\_\+modules/jsdoc/lib/jsdoc/util/logger.\+js}
Logging tools for J\+S\+Doc.

Log messages are printed to the console based on the current logging level. By default, messages at level {\ttfamily \{@link module\+:jsdoc/util/logger.\+L\+E\+V\+E\+L\+S.\+E\+R\+R\+OR\}} or above are logged; all other messages are ignored.

In addition, the module object emits an event whenever a logger method is called, regardless of the current logging level. The event\textquotesingle{}s name is the string {\ttfamily logger\+:} followed by the logger\textquotesingle{}s name (for example, {\ttfamily logger\+:error}). The event handler receives an array of arguments that were passed to the logger method.

Each logger method accepts a {\ttfamily message} parameter that may contain zero or more placeholders. Each placeholder is replaced by the corresponding argument following the message. If the placeholder does not have a corresponding argument, the placeholder is not replaced.

The following placeholders are supported\+:


\begin{DoxyItemize}
\item {\ttfamily s}\+: String.
\item {\ttfamily d}\+: Number.
\item {\ttfamily j}\+: J\+S\+ON.
\end{DoxyItemize}

@module jsdoc/util/logger \+:events.\+Event\+Emitter

var logger = require(\textquotesingle{}jsdoc/util/logger\textquotesingle{});

var data = \{ foo\+: \textquotesingle{}bar\textquotesingle{} \}; var name = \textquotesingle{}baz\textquotesingle{};

logger.\+warn(\textquotesingle{}j s\textquotesingle{}, data, name); // prints \textquotesingle{}\{\char`\"{}foo\char`\"{}\+:\char`\"{}bar\char`\"{}\} baz\textquotesingle{} \begin{DoxySeeAlso}{See also}
\href{http://nodejs.org/api/util.html\#util_util_format_format}{\texttt{ http\+://nodejs.\+org/api/util.\+html\#util\+\_\+util\+\_\+format\+\_\+format}}
\end{DoxySeeAlso}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} \mbox{\hyperlink{classEventEmitter}{EventEmitter}} = require(\textcolor{stringliteral}{'events'}).EventEmitter;}
\DoxyCodeLine{\textcolor{keyword}{const} util = require(\textcolor{stringliteral}{'util'});}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{/* eslint-\/disable no-\/empty-\/function */}}
\DoxyCodeLine{\textcolor{keyword}{class }Logger \textcolor{keyword}{extends} \mbox{\hyperlink{classEventEmitter}{EventEmitter}} \{\}}
\DoxyCodeLine{\textcolor{comment}{/* eslint-\/enable no-\/empty-\/function */}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} logger = module.exports = \textcolor{keyword}{new} Logger();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} LEVELS = logger.LEVELS = \{}
\DoxyCodeLine{    SILENT: 0,}
\DoxyCodeLine{    FATAL: 10,}
\DoxyCodeLine{    ERROR: 20,}
\DoxyCodeLine{    WARN: 30,}
\DoxyCodeLine{    INFO: 40,}
\DoxyCodeLine{    DEBUG: 50,}
\DoxyCodeLine{    VERBOSE: 1000}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} DEFAULT\_LEVEL = LEVELS.WARN;}
\DoxyCodeLine{let logLevel = DEFAULT\_LEVEL;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const} PREFIXES = \{}
\DoxyCodeLine{    DEBUG: \textcolor{stringliteral}{'DEBUG: '},}
\DoxyCodeLine{    ERROR: \textcolor{stringliteral}{'ERROR: '},}
\DoxyCodeLine{    FATAL: \textcolor{stringliteral}{'FATAL: '},}
\DoxyCodeLine{    WARN: \textcolor{stringliteral}{'WARNING: '}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Add a prefix to a log message if necessary.}}
\DoxyCodeLine{\textcolor{keyword}{function} addPrefix(args, prefix) \{}
\DoxyCodeLine{    let updatedArgs;}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (prefix \&\& typeof args[0] === \textcolor{stringliteral}{'string'}) \{}
\DoxyCodeLine{        updatedArgs = args.slice(0);}
\DoxyCodeLine{        updatedArgs[0] = prefix + updatedArgs[0];}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} updatedArgs || args;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// TODO: document events}}
\DoxyCodeLine{\textcolor{keyword}{function} wrapLogFunction(name, func) \{}
\DoxyCodeLine{    \textcolor{keyword}{const} eventName = `logger:\$\{name\}`;}
\DoxyCodeLine{    \textcolor{keyword}{const} upperCaseName = name.toUpperCase();}
\DoxyCodeLine{    \textcolor{keyword}{const} level = LEVELS[upperCaseName];}
\DoxyCodeLine{    \textcolor{keyword}{const} prefix = PREFIXES[upperCaseName];}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} \textcolor{keyword}{function}() \{}
\DoxyCodeLine{        let loggerArgs;}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keyword}{const} args = Array.prototype.slice.call(arguments, 0);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (logLevel >= level) \{}
\DoxyCodeLine{            loggerArgs = addPrefix(args, prefix);}
\DoxyCodeLine{            func(...loggerArgs);}
\DoxyCodeLine{        \}}
\DoxyCodeLine{}
\DoxyCodeLine{        args.unshift(eventName);}
\DoxyCodeLine{        logger.emit(...args);}
\DoxyCodeLine{    \};}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Print a message to STDOUT without a terminating newline.}}
\DoxyCodeLine{\textcolor{keyword}{function} printToStdout(...args) \{}
\DoxyCodeLine{    process.stdout.write( util.format(...args) );}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{logger.debug = wrapLogFunction(\textcolor{stringliteral}{'debug'}, console.info);}
\DoxyCodeLine{logger.printDebug = wrapLogFunction(\textcolor{stringliteral}{'debug'}, printToStdout);}
\DoxyCodeLine{logger.error = wrapLogFunction(\textcolor{stringliteral}{'error'}, console.error);}
\DoxyCodeLine{logger.fatal = wrapLogFunction(\textcolor{stringliteral}{'fatal'}, console.error);}
\DoxyCodeLine{logger.info = wrapLogFunction(\textcolor{stringliteral}{'info'}, console.info);}
\DoxyCodeLine{logger.printInfo = wrapLogFunction(\textcolor{stringliteral}{'info'}, printToStdout);}
\DoxyCodeLine{logger.verbose = wrapLogFunction(\textcolor{stringliteral}{'verbose'}, console.info);}
\DoxyCodeLine{logger.printVerbose = wrapLogFunction(\textcolor{stringliteral}{'verbose'}, printToStdout);}
\DoxyCodeLine{logger.warn = wrapLogFunction(\textcolor{stringliteral}{'warn'}, console.warn);}
\DoxyCodeLine{}
\DoxyCodeLine{logger.setLevel = \textcolor{keyword}{function}(level) \{}
\DoxyCodeLine{    logLevel = (level !== undefined) ? level : DEFAULT\_LEVEL;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{logger.getLevel = \textcolor{keyword}{function}() \{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} logLevel;}
\DoxyCodeLine{\};}
\end{DoxyCodeInclude}
 