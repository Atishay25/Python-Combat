\hypertarget{_2home_2atishayjain_2CS251_2Python-Combat_2node_modules_2lodash_2truncate_8js-example}{}\doxysection{/home/atishayjain/\+C\+S251/\+Python-\/\+Combat/node\+\_\+modules/lodash/truncate.\+js}
\+\_\+.\+truncate(\textquotesingle{}hi-\/diddly-\/ho there, neighborino\textquotesingle{}); // =$>$ \textquotesingle{}hi-\/diddly-\/ho there, neighbo...\textquotesingle{}

\+\_\+.\+truncate(\textquotesingle{}hi-\/diddly-\/ho there, neighborino\textquotesingle{}, \{ \textquotesingle{}length\textquotesingle{}\+: 24, \textquotesingle{}separator\textquotesingle{}\+: \textquotesingle{} \textquotesingle{} \}); // =$>$ \textquotesingle{}hi-\/diddly-\/ho there,...\textquotesingle{}

\+\_\+.\+truncate(\textquotesingle{}hi-\/diddly-\/ho there, neighborino\textquotesingle{}, \{ \textquotesingle{}length\textquotesingle{}\+: 24, \textquotesingle{}separator\textquotesingle{}\+: /,? +/ \}); // =$>$ \textquotesingle{}hi-\/diddly-\/ho there...\textquotesingle{}

\+\_\+.\+truncate(\textquotesingle{}hi-\/diddly-\/ho there, neighborino\textquotesingle{}, \{ \textquotesingle{}omission\textquotesingle{}\+: \textquotesingle{} \mbox{[}...\mbox{]}\textquotesingle{} \}); // =$>$ \textquotesingle{}hi-\/diddly-\/ho there, neig \mbox{[}...\mbox{]}\textquotesingle{}


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{var baseToString = require(\textcolor{stringliteral}{'./\_baseToString'}),}
\DoxyCodeLine{    castSlice = require(\textcolor{stringliteral}{'./\_castSlice'}),}
\DoxyCodeLine{    hasUnicode = require(\textcolor{stringliteral}{'./\_hasUnicode'}),}
\DoxyCodeLine{    isObject = require(\textcolor{stringliteral}{'./isObject'}),}
\DoxyCodeLine{    isRegExp = require(\textcolor{stringliteral}{'./isRegExp'}),}
\DoxyCodeLine{    stringSize = require(\textcolor{stringliteral}{'./\_stringSize'}),}
\DoxyCodeLine{    stringToArray = require(\textcolor{stringliteral}{'./\_stringToArray'}),}
\DoxyCodeLine{    toInteger = require(\textcolor{stringliteral}{'./toInteger'}),}
\DoxyCodeLine{    toString = require(\textcolor{stringliteral}{'./toString'});}
\DoxyCodeLine{}
\DoxyCodeLine{var DEFAULT\_TRUNC\_LENGTH = 30,}
\DoxyCodeLine{    DEFAULT\_TRUNC\_OMISSION = \textcolor{stringliteral}{'...'};}
\DoxyCodeLine{}
\DoxyCodeLine{var reFlags = /\(\backslash\)w*\$/;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{function} truncate(\textcolor{keywordtype}{string}, options) \{}
\DoxyCodeLine{  var length = DEFAULT\_TRUNC\_LENGTH,}
\DoxyCodeLine{      omission = DEFAULT\_TRUNC\_OMISSION;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (isObject(options)) \{}
\DoxyCodeLine{    var separator = \textcolor{stringliteral}{'separator'} in options ? options.separator : separator;}
\DoxyCodeLine{    length = \textcolor{stringliteral}{'length'} in options ? toInteger(options.length) : length;}
\DoxyCodeLine{    omission = \textcolor{stringliteral}{'omission'} in options ? baseToString(options.omission) : omission;}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordtype}{string} = toString(\textcolor{keywordtype}{string});}
\DoxyCodeLine{}
\DoxyCodeLine{  var strLength = \textcolor{keywordtype}{string}.length;}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (hasUnicode(\textcolor{keywordtype}{string})) \{}
\DoxyCodeLine{    var strSymbols = stringToArray(\textcolor{keywordtype}{string});}
\DoxyCodeLine{    strLength = strSymbols.length;}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (length >= strLength) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} string;}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  var end = length -\/ stringSize(omission);}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (end < 1) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} omission;}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  var result = strSymbols}
\DoxyCodeLine{    ? castSlice(strSymbols, 0, end).join(\textcolor{stringliteral}{''})}
\DoxyCodeLine{    : \textcolor{keywordtype}{string}.slice(0, end);}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (separator === undefined) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} result + omission;}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (strSymbols) \{}
\DoxyCodeLine{    end += (result.length -\/ end);}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (isRegExp(separator)) \{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.slice(end).search(separator)) \{}
\DoxyCodeLine{      var match,}
\DoxyCodeLine{          substring = result;}
\DoxyCodeLine{}
\DoxyCodeLine{      \textcolor{keywordflow}{if} (!separator.global) \{}
\DoxyCodeLine{        separator = RegExp(separator.source, toString(reFlags.exec(separator)) + \textcolor{charliteral}{'g'});}
\DoxyCodeLine{      \}}
\DoxyCodeLine{      separator.lastIndex = 0;}
\DoxyCodeLine{      \textcolor{keywordflow}{while} ((match = separator.exec(substring))) \{}
\DoxyCodeLine{        var newEnd = match.index;}
\DoxyCodeLine{      \}}
\DoxyCodeLine{      result = result.slice(0, newEnd === undefined ? end : newEnd);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.indexOf(baseToString(separator), end) != end) \{}
\DoxyCodeLine{    var index = result.lastIndexOf(separator);}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (index > -\/1) \{}
\DoxyCodeLine{      result = result.slice(0, index);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordflow}{return} result + omission;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports = truncate;}
\end{DoxyCodeInclude}
 