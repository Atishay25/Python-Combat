<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: /home/atishayjain/CS251/Python-Combat/node_modules/jsdoc/lib/jsdoc/opts/argparser.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/atishayjain/CS251/Python-Combat/node_modules/jsdoc/lib/jsdoc/opts/argparser.js</div>  </div>
</div><!--header-->
<div class="contents">
<p>Provide information about a legal option.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">{character}</td><td>shortName - The short name of the option, entered like: -T. </td></tr>
    <tr><td class="paramname">{string}</td><td>longName - The equivalent long name of the option, entered like: &ndash;test. </td></tr>
    <tr><td class="paramname">{boolean}</td><td>hasValue - Does this option require a value? Like: -t templatename </td></tr>
    <tr><td class="paramname">{string}</td><td>helpText - A brief description of the option. </td></tr>
    <tr><td class="paramname">{boolean}</td><td>[canHaveMultiple=false] - Set to <code>true</code> if the option can be provided more than once. </td></tr>
    <tr><td class="paramname">{function}</td><td>[coercer] - A function to coerce the given value to a specific type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{this}</dd></dl>
<p>myParser.addOption('t', 'template', true, 'The path to the template.'); myParser.addOption('h', 'help', false, 'Show the help message.');</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keyword">const</span> _ = require(<span class="stringliteral">&#39;underscore&#39;</span>);</div>
<div class="line"><span class="keyword">const</span> util = require(<span class="stringliteral">&#39;util&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> hasOwnProp = Object.prototype.hasOwnProperty;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> padding(length) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> Array(length + 1).join(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> padLeft(str, length) {</div>
<div class="line">    <span class="keywordflow">return</span> padding(length) + str;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> padRight(str, length) {</div>
<div class="line">    <span class="keywordflow">return</span> str + padding(length);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> findMaxLength(arr) {</div>
<div class="line">    let max = 0;</div>
<div class="line"> </div>
<div class="line">    arr.forEach(({length}) =&gt; {</div>
<div class="line">        <span class="keywordflow">if</span> (length &gt; max) {</div>
<div class="line">            max = length;</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> max;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> concatWithMaxLength(items, maxLength) {</div>
<div class="line">    let result = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// to prevent endless loops, always use the first item, regardless of length</span></div>
<div class="line">    result += items.shift();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ( items.length &amp;&amp; (result.length + items[0].length &lt; maxLength) ) {</div>
<div class="line">        result += ` ${items.shift()}`;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// we want to format names and descriptions like this:</span></div>
<div class="line"><span class="comment">// |    -f, --foo    Very long description very long description very long    |</span></div>
<div class="line"><span class="comment">// |                 description very long description.                       |</span></div>
<div class="line"><span class="keyword">function</span> formatHelpInfo({names, descriptions}) {</div>
<div class="line">    <span class="keyword">const</span> MARGIN_LENGTH = 4;</div>
<div class="line">    <span class="keyword">const</span> results = [];</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> maxLength = process.stdout.columns;</div>
<div class="line">    <span class="keyword">const</span> maxNameLength = findMaxLength(names);</div>
<div class="line">    <span class="keyword">const</span> wrapDescriptionAt = maxLength - (MARGIN_LENGTH * 3) - maxNameLength;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// build the string for each option</span></div>
<div class="line">    names.forEach((name, i) =&gt; {</div>
<div class="line">        let result;</div>
<div class="line">        let partialDescription;</div>
<div class="line">        let words;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// add a left margin to the name</span></div>
<div class="line">        result = padLeft(names[i], MARGIN_LENGTH);</div>
<div class="line">        <span class="comment">// and a right margin, with extra padding so the descriptions line up with one another</span></div>
<div class="line">        result = padRight(result, maxNameLength - names[i].length + MARGIN_LENGTH);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// split the description on spaces</span></div>
<div class="line">        words = descriptions[i].split(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        <span class="comment">// add as much of the description as we can fit on the first line</span></div>
<div class="line">        result += concatWithMaxLength(words, wrapDescriptionAt);</div>
<div class="line">        <span class="comment">// if there&#39;s anything left, keep going until we&#39;ve consumed the description</span></div>
<div class="line">        <span class="keywordflow">while</span> (words.length) {</div>
<div class="line">            partialDescription = padding( maxNameLength + (MARGIN_LENGTH * 2) );</div>
<div class="line">            partialDescription += concatWithMaxLength(words, wrapDescriptionAt);</div>
<div class="line">            result += `\n${partialDescription}`;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        results.push(result);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> results;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a name="_a0"></a><a class="code" href="classArgParser.html">ArgParser</a> {</div>
<div class="line">    constructor() {</div>
<div class="line">        this._options = [];</div>
<div class="line">        this._shortNameIndex = {};</div>
<div class="line">        this._longNameIndex = {};</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    _getOptionByShortName(name) {</div>
<div class="line">        <span class="keywordflow">if</span> (hasOwnProp.call(<span class="keyword">this</span>._shortNameIndex, name)) {</div>
<div class="line">            <span class="keywordflow">return</span> this._options[this._shortNameIndex[name]];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    _getOptionByLongName(name) {</div>
<div class="line">        <span class="keywordflow">if</span> (hasOwnProp.call(<span class="keyword">this</span>._longNameIndex, name)) {</div>
<div class="line">            <span class="keywordflow">return</span> this._options[this._longNameIndex[name]];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    _addOption(option) {</div>
<div class="line">        let currentIndex;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> longName = option.longName;</div>
<div class="line">        <span class="keyword">const</span> shortName = option.shortName;</div>
<div class="line"> </div>
<div class="line">        this._options.push(option);</div>
<div class="line">        currentIndex = this._options.length - 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (shortName) {</div>
<div class="line">            this._shortNameIndex[shortName] = currentIndex;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (longName) {</div>
<div class="line">            this._longNameIndex[longName] = currentIndex;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    addOption(shortName, longName, hasValue, helpText, canHaveMultiple = <span class="keyword">false</span>, coercer) {</div>
<div class="line">        <span class="keywordflow">return</span> this._addOption({</div>
<div class="line">            shortName: shortName,</div>
<div class="line">            longName: longName,</div>
<div class="line">            hasValue: hasValue,</div>
<div class="line">            helpText: helpText,</div>
<div class="line">            canHaveMultiple: canHaveMultiple,</div>
<div class="line">            coercer: coercer</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// TODO: refactor addOption to accept objects, then get rid of this method</span></div>
<div class="line"><span class="comment"></span>    addIgnoredOption(shortName, longName) {</div>
<div class="line">        <span class="keywordflow">return</span> this._addOption({</div>
<div class="line">            shortName: shortName,</div>
<div class="line">            longName: longName,</div>
<div class="line">            ignore: <span class="keyword">true</span></div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    help() {</div>
<div class="line">        <span class="keyword">const</span> options = {</div>
<div class="line">            names: [],</div>
<div class="line">            descriptions: []</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        this._options.forEach(option =&gt; {</div>
<div class="line">            let name = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// don&#39;t show ignored options</span></div>
<div class="line">            <span class="keywordflow">if</span> (option.ignore) {</div>
<div class="line">                return;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            if (option.shortName) {</div>
<div class="line">                name += `-${option.shortName}${option.longName ? <span class="stringliteral">&#39;, &#39;</span> : <span class="stringliteral">&#39;&#39;</span>}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (option.longName) {</div>
<div class="line">                name += `--${option.longName}`;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (option.hasValue) {</div>
<div class="line">                name += <span class="stringliteral">&#39; &lt;value&gt;&#39;</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            options.names.push(name);</div>
<div class="line">            options.descriptions.push(option.helpText);</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> `Options:\n${formatHelpInfo(options).join(<span class="charliteral">&#39;\n&#39;</span>)}`;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    parse(args, defaults) {</div>
<div class="line">        let arg;</div>
<div class="line">        let next;</div>
<div class="line">        let option;</div>
<div class="line">        <span class="keyword">const</span> result = ( defaults &amp;&amp; _.defaults({}, defaults) ) || {};</div>
<div class="line">        let shortName;</div>
<div class="line">        let longName;</div>
<div class="line">        let name;</div>
<div class="line">        let value;</div>
<div class="line"> </div>
<div class="line">        result._ = [];</div>
<div class="line">        <span class="keywordflow">for</span> (let i = 0, l = args.length; i &lt; l; i++) {</div>
<div class="line">            arg = String(args[i]);</div>
<div class="line">            next = (i &lt; l - 1) ? String(args[i + 1]) : <span class="keyword">null</span>;</div>
<div class="line">            shortName = <span class="keyword">null</span>;</div>
<div class="line">            value = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// like -t</span></div>
<div class="line">            <span class="keywordflow">if</span> (arg.charAt(0) === <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line">                <span class="comment">// like --template</span></div>
<div class="line">                <span class="keywordflow">if</span> (arg.charAt(1) === <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line">                    name = longName = arg.slice(2);</div>
<div class="line">                    option = this._getOptionByLongName(longName);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    name = shortName = arg.slice(1);</div>
<div class="line">                    option = this._getOptionByShortName(shortName);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (option === <span class="keyword">null</span>) {</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> Error( util.format(<span class="stringliteral">&#39;Unknown command-line option &quot;%s&quot;.&#39;</span>, name) );</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (option.hasValue) {</div>
<div class="line">                    value = next;</div>
<div class="line">                    i++;</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (value === <span class="keyword">null</span> || value.charAt(0) === <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line">                        <span class="keywordflow">throw</span> <span class="keyword">new</span> Error( util.format(<span class="stringliteral">&#39;The command-line option &quot;%s&quot; requires a value.&#39;</span>, name) );</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    value = <span class="keyword">true</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// skip ignored options now that we&#39;ve consumed the option text</span></div>
<div class="line">                <span class="keywordflow">if</span> (option.ignore) {</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (option.longName &amp;&amp; shortName) {</div>
<div class="line">                    name = option.longName;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (typeof option.coercer === <span class="stringliteral">&#39;function&#39;</span>) {</div>
<div class="line">                    value = option.coercer(value);</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Allow for multiple options of the same type to be present</span></div>
<div class="line">                <span class="keywordflow">if</span> (option.canHaveMultiple &amp;&amp; hasOwnProp.call(result, name)) {</div>
<div class="line">                    <span class="keyword">const</span> val = result[name];</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span> (val instanceof Array) {</div>
<div class="line">                        val.push(value);</div>
<div class="line">                    } <span class="keywordflow">else</span> {</div>
<div class="line">                        result[name] = [val, value];</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">                    result[name] = value;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                result._.push(arg);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> result;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">module.exports = <a class="code" href="classArgParser.html">ArgParser</a>;</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="aclassArgParser_html"><div class="ttname"><a href="classArgParser.html">ArgParser</a></div><div class="ttdef"><b>Definition:</b> argparser.js:91</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
