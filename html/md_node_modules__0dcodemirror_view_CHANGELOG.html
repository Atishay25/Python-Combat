<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: 6.4.1 (2022-11-07)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">6.4.1 (2022-11-07) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md570"></a>
Bug fixes</h2>
<p>Fix an issue where coordinates next to replaced widgets were returned incorrectly, causing the cursor to be drawn in the wrong place.</p>
<p>Update the <code>crosshairCursor</code> state on every mousemove event.</p>
<p>Avoid an issue in the way that the editor enforces cursor associativity that could cause the cursor to get stuck on single-character wrapped lines.</p>
<h1><a class="anchor" id="autotoc_md571"></a>
6.4.0 (2022-10-18)</h1>
<h2><a class="anchor" id="autotoc_md572"></a>
Bug fixes</h2>
<p>Avoid an issue where <code>scrollPastEnd</code> makes a single-line editor have a vertical scrollbar.</p>
<p>Work around a Chrome bug where it inserts a newline when you press space at the start of a wrapped line.</p>
<p>Align <code>rectangularSelection</code>'s behavior with other popular editors by making it create cursors at the end of lines that are too short to touch the rectangle.</p>
<p>Fix an issue where coordinates on mark decoration boundaries were sometimes taken from the wrong side of the position.</p>
<p>Prevent scrolling artifacts caused by attempts to scroll stuff into view when the editor isn't being displayed.</p>
<h2><a class="anchor" id="autotoc_md573"></a>
New features</h2>
<p><code>TooltipView</code> objects can now provide a <code>destroy</code> method to be called when the tooltip is removed.</p>
<h1><a class="anchor" id="autotoc_md574"></a>
6.3.1 (2022-10-10)</h1>
<h2><a class="anchor" id="autotoc_md575"></a>
Bug fixes</h2>
<p>Fix a crash when trying to scroll something into view in an editor that wasn't in the visible DOM.</p>
<p>Fix an issue where <code>coordsAtPos</code> returned the coordinates on the wrong side of a widget decoration wrapped in a mark decoration.</p>
<p>Fix an issue where content on long wrapped lines could fail to properly scroll into view.</p>
<p>Fix an issue where DOM change reading on Chrome Android could get confused when a transaction came in right after a beforeinput event for backspace, enter, or delete.</p>
<h1><a class="anchor" id="autotoc_md576"></a>
6.3.0 (2022-09-28)</h1>
<h2><a class="anchor" id="autotoc_md577"></a>
Bug fixes</h2>
<p>Reduce the amount of wrap-point jittering when scrolling through a very long wrapped line.</p>
<p>Fix an issue where scrolling to content that wasn't currently drawn due to being on a very long line would often fail to scroll to the right position.</p>
<p>Suppress double-space-adds-period behavior on Chrome Mac when it behaves weirdly next to widget.</p>
<h2><a class="anchor" id="autotoc_md578"></a>
New features</h2>
<p>Key binding objects with an <code>any</code> property will now add handlers that are called for any key, within the ordering of the keybindings.</p>
<h1><a class="anchor" id="autotoc_md579"></a>
6.2.5 (2022-09-24)</h1>
<h2><a class="anchor" id="autotoc_md580"></a>
Bug fixes</h2>
<p>Don't override double/triple tap behavior on touch screen devices, so that the mobile selection menu pops up properly.</p>
<p>Fix an issue where updating the selection could crash on Safari when the editor was hidden.</p>
<h1><a class="anchor" id="autotoc_md581"></a>
6.2.4 (2022-09-16)</h1>
<h2><a class="anchor" id="autotoc_md582"></a>
Bug fixes</h2>
<p>Highlight the active line even when there is a selection. Prevent the active line background from obscuring the selection backdrop.</p>
<p>Fix an issue where elements with negative margins would confuse the editor's scrolling-into-view logic.</p>
<p>Fix scrolling to a specific position in an editor that has not been in view yet.</p>
<h1><a class="anchor" id="autotoc_md583"></a>
6.2.3 (2022-09-08)</h1>
<h2><a class="anchor" id="autotoc_md584"></a>
Bug fixes</h2>
<p>Fix a bug where cursor motion, when starting from a non-empty selection range, could get stuck on atomic ranges in some circumstances.</p>
<p>Avoid triggering Chrome Android's text-duplication issue when a period is typed in the middle of a word.</p>
<h1><a class="anchor" id="autotoc_md585"></a>
6.2.2 (2022-08-31)</h1>
<h2><a class="anchor" id="autotoc_md586"></a>
Bug fixes</h2>
<p>Don't reset the selection for selection change events that were suppressed by a node view.</p>
<h1><a class="anchor" id="autotoc_md587"></a>
6.2.1 (2022-08-25)</h1>
<h2><a class="anchor" id="autotoc_md588"></a>
Bug fixes</h2>
<p>Don't use the global <code>document</code> variable to track focus, since that doesn't work in another window/frame.</p>
<p>Fix an issue where key handlers that didn't return true were sometimes called twice for the same keypress.</p>
<p>Avoid editing glitches when using deletion keys like ctrl-d on iOS.</p>
<p>Properly treat characters from the 'Arabic Presentation Forms-A' Unicode block as right-to-left.</p>
<p>Work around a Firefox bug that inserts text at the wrong point for specific cross-line selections.</p>
<h1><a class="anchor" id="autotoc_md589"></a>
6.2.0 (2022-08-05)</h1>
<h2><a class="anchor" id="autotoc_md590"></a>
Bug fixes</h2>
<p>Fix a bug where <code>posAtCoords</code> would return the wrong results for positions to the right of wrapped lines.</p>
<h2><a class="anchor" id="autotoc_md591"></a>
New features</h2>
<p>The new <code><a class="el" href="classEditorView.html#a1d9bd69932298f82ec546cb8dbeccac4" title="Update the root in which the editor lives.">EditorView.setRoot</a></code> method can be used when an editor view is moved to a new document or shadow root.</p>
<h1><a class="anchor" id="autotoc_md592"></a>
6.1.4 (2022-08-04)</h1>
<h2><a class="anchor" id="autotoc_md593"></a>
Bug fixes</h2>
<p>Make selection-restoration on focus more reliable.</p>
<h1><a class="anchor" id="autotoc_md594"></a>
6.1.3 (2022-08-03)</h1>
<h2><a class="anchor" id="autotoc_md595"></a>
Bug fixes</h2>
<p>Fix a bug where a document that contains only non-printing characters would lead to bogus text measurements (and, from those, to crashing).</p>
<p>Make sure differences between estimated and actual block heights don't cause visible scroll glitches.</p>
<h1><a class="anchor" id="autotoc_md596"></a>
6.1.2 (2022-07-27)</h1>
<h2><a class="anchor" id="autotoc_md597"></a>
Bug fixes</h2>
<p>Fix an issue where double tapping enter to confirm IME input and insert a newline on iOS would sometimes insert two newlines.</p>
<p>Fix an issue on iOS where a composition could get aborted if the editor scrolled on backspace.</p>
<h1><a class="anchor" id="autotoc_md598"></a>
6.1.1 (2022-07-25)</h1>
<h2><a class="anchor" id="autotoc_md599"></a>
Bug fixes</h2>
<p>Make <code>highlightSpecialChars</code> replace directional isolate characters by default.</p>
<p>The editor will now try to suppress browsers' native behavior of resetting the selection in the editable content when the editable element is focused (programmatically, with tab, etc).</p>
<p>Fix a CSS issue that made it possible, when the gutters were wide enough, for them to overlap with the content.</p>
<h1><a class="anchor" id="autotoc_md600"></a>
6.1.0 (2022-07-19)</h1>
<h2><a class="anchor" id="autotoc_md601"></a>
New features</h2>
<p><code><a class="el" href="classMatchDecorator.html" title="Helper class used to make it easier to maintain decorations on visible code that matches a given regu...">MatchDecorator</a></code> now supports a <code>decorate</code> option that can be used to customize the way decorations are added for each match.</p>
<h1><a class="anchor" id="autotoc_md602"></a>
6.0.3 (2022-07-08)</h1>
<h2><a class="anchor" id="autotoc_md603"></a>
Bug fixes</h2>
<p>Fix a problem where <code>posAtCoords</code> could incorrectly return the start of the next line when querying positions between lines.</p>
<p>Fix an issue where registering a high-precedence keymap made keymap handling take precedence over other keydown event handlers.</p>
<p>Ctrl/Cmd-clicking can now remove ranges from a multi-range selection.</p>
<h1><a class="anchor" id="autotoc_md604"></a>
6.0.2 (2022-06-23)</h1>
<h2><a class="anchor" id="autotoc_md605"></a>
Bug fixes</h2>
<p>Fix a CSS issue that broke horizontal scroll width stabilization.</p>
<p>Fix a bug where <code>defaultLineHeight</code> could get an incorrect value in very narrow editors.</p>
<h1><a class="anchor" id="autotoc_md606"></a>
6.0.1 (2022-06-17)</h1>
<h2><a class="anchor" id="autotoc_md607"></a>
Bug fixes</h2>
<p>Avoid DOM selection corruption when the editor doesn't have focus but has selection and updates its content.</p>
<p>Fall back to dispatching by key code when a key event produces a non-ASCII character (so that Cyrillic and Arabic keyboards can still use bindings specified with Latin characters).</p>
<h1><a class="anchor" id="autotoc_md608"></a>
6.0.0 (2022-06-08)</h1>
<h2><a class="anchor" id="autotoc_md609"></a>
New features</h2>
<p>The new static <code><a class="el" href="classEditorView.html#a8c411168b9baab9f88f0b84704686ccf" title="Retrieve an editor view instance from the view&#39;s DOM representation.">EditorView.findFromDOM</a></code> method can be used to retrieve an editor instance from its DOM structure.</p>
<p>Instead of passing a constructed state to the <code><a class="el" href="classEditorView.html" title="An editor view represents the editor&#39;s user interface.">EditorView</a></code> constructor, it is now also possible to inline the configuration options to the state in the view config object.</p>
<h1><a class="anchor" id="autotoc_md610"></a>
0.20.7 (2022-05-30)</h1>
<h2><a class="anchor" id="autotoc_md611"></a>
Bug fixes</h2>
<p>Fix an issue on Chrome Android where the DOM could fail to display the actual document after backspace.</p>
<p>Avoid an issue on Chrome Android where DOM changes were sometimes inappropriately replace by a backspace key effect due to spurious beforeinput events.</p>
<p>Fix a problem where the content element's width didn't cover the width of the actual content.</p>
<p>Work around a bug in Chrome 102 which caused wheel scrolling of the editor to be interrupted every few lines.</p>
<h1><a class="anchor" id="autotoc_md612"></a>
0.20.6 (2022-05-20)</h1>
<h2><a class="anchor" id="autotoc_md613"></a>
Bug fixes</h2>
<p>Make sure the editor re-measures itself when its attributes are updated.</p>
<h1><a class="anchor" id="autotoc_md614"></a>
0.20.5 (2022-05-18)</h1>
<h2><a class="anchor" id="autotoc_md615"></a>
Bug fixes</h2>
<p>Fix an issue where gutter elements without any markers in them would not get the <code>cm-gutterElement</code> class assigned.</p>
<p>Fix an issue where DOM event handlers registered by plugins were retained indefinitely, even after the editor was reconfigured.</p>
<h1><a class="anchor" id="autotoc_md616"></a>
0.20.4 (2022-05-03)</h1>
<h2><a class="anchor" id="autotoc_md617"></a>
Bug fixes</h2>
<p>Prevent Mac-style behavior of inserting a period when the user inserts two spaces.</p>
<p>Fix an issue where the editor would sometimes not restore the DOM selection when refocused with a selection identical to the one it held when it lost focus.</p>
<h1><a class="anchor" id="autotoc_md618"></a>
0.20.3 (2022-04-27)</h1>
<h2><a class="anchor" id="autotoc_md619"></a>
Bug fixes</h2>
<p>Fix a bug where the input handling could crash on repeated (or held) backspace presses on Chrome Android.</p>
<h1><a class="anchor" id="autotoc_md620"></a>
0.20.2 (2022-04-22)</h1>
<h2><a class="anchor" id="autotoc_md621"></a>
New features</h2>
<p>The new <code>hideOn</code> option to <code>hoverTooltip</code> allows more fine-grained control over when the tooltip should hide.</p>
<h1><a class="anchor" id="autotoc_md622"></a>
0.20.1 (2022-04-20)</h1>
<h2><a class="anchor" id="autotoc_md623"></a>
Bug fixes</h2>
<p>Remove debug statements that accidentally made it into 0.20.0.</p>
<p>Fix a regression in <code>moveVertically</code>.</p>
<h1><a class="anchor" id="autotoc_md624"></a>
0.20.0 (2022-04-20)</h1>
<h2><a class="anchor" id="autotoc_md625"></a>
Breaking changes</h2>
<p>The deprecated interfaces <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, <code>viewportLines</code>, <code>visualLineAt</code>, <code>scrollPosIntoView</code>, <code>scrollTo</code>, and <code>centerOn</code> were removed from the library.</p>
<p>All decorations are now provided through <code>EditorView.decorations</code>, and are part of a single precedence ordering. <a class="el" href="classDecoration.html" title="A decoration provides information on how to draw or style a piece of content.">Decoration</a> sources that need access to the view are provided as functions.</p>
<p>Atomic ranges are now specified through a facet (<code>EditorView.atomicRanges</code>).</p>
<p>Scroll margins are now specified through a facet (<code>EditorView.scrollMargins</code>).</p>
<p>Plugin fields no longer exist in the library (and are replaced by facets holding function values).</p>
<p>This package no longer re-exports the <a class="el" href="classRange.html" title="A range associates a value with a range of positions.">Range</a> type from @codemirror/state.</p>
<h2><a class="anchor" id="autotoc_md626"></a>
Bug fixes</h2>
<p>Fix a bug where zero-length block widgets could cause <code>viewportLineBlocks</code> to contain overlapping ranges.</p>
<h2><a class="anchor" id="autotoc_md627"></a>
New features</h2>
<p>The new <code>perLineTextDirection</code> facet configures whether the editor reads text direction per line, or uses a single direction for the entire editor. <code><a class="el" href="classEditorView.html#acbc226cd1ceb1cd0017b1e9ca4f64681" title="Find the text direction of the block at the given position, as assigned by CSS.">EditorView.textDirectionAt</a></code> returns the direction around a given position.</p>
<p><code>rectangularSelection</code> and <code>crosshairCursor</code> from @codemirror/rectangular-selection were merged into this package.</p>
<p>This package now exports the tooltip functionality that used to live in @codemirror/tooltip.</p>
<p>The exports from the old @codemirror/panel package are now available from this package.</p>
<p>The exports from the old @codemirror/gutter package are now available from this package.</p>
<h1><a class="anchor" id="autotoc_md628"></a>
0.19.48 (2022-03-30)</h1>
<h2><a class="anchor" id="autotoc_md629"></a>
Bug fixes</h2>
<p>Fix an issue where DOM syncing could crash when a DOM node was moved from a parent to a child node (via widgets reusing existing nodes).</p>
<p>To avoid interfering with things like a vim mode too much, the editor will now only activate the tab-to-move-focus escape hatch after an escape press that wasn't handled by an event handler.</p>
<p>Make sure the view measures itself before the page is printed.</p>
<p>Tweak types of view plugin defining functions to avoid TypeScript errors when the plugin value doesn't have any of the interface's properties.</p>
<h1><a class="anchor" id="autotoc_md630"></a>
0.19.47 (2022-03-08)</h1>
<h2><a class="anchor" id="autotoc_md631"></a>
Bug fixes</h2>
<p>Fix an issue where block widgets at the start of the viewport could break height computations.</p>
<h1><a class="anchor" id="autotoc_md632"></a>
0.19.46 (2022-03-03)</h1>
<h2><a class="anchor" id="autotoc_md633"></a>
Bug fixes</h2>
<p>Fix a bug where block widgets on the edges of viewports could cause the positioning of content to misalign with the gutter and height computations.</p>
<p>Improve cursor height next to widgets.</p>
<p>Fix a bug where mapping positions to screen coordinates could return incorred coordinates during composition.</p>
<h1><a class="anchor" id="autotoc_md634"></a>
0.19.45 (2022-02-23)</h1>
<h2><a class="anchor" id="autotoc_md635"></a>
Bug fixes</h2>
<p>Fix an issue where the library failed to call <code><a class="el" href="classWidgetType.html#ad28b3a0f2ee5144e0b9678a5c4b68048" title="This is called when the an instance of the widget is removed from the editor view.">WidgetType.destroy</a></code> on the old widget when replacing a widget with a different widget of the same type.</p>
<p>Fix an issue where the editor would compute DOM positions inside composition contexts incorrectly in some cases, causing the selection to be put in the wrong place and needlessly interrupting compositions.</p>
<p>Fix leaking of resize event handlers.</p>
<h1><a class="anchor" id="autotoc_md636"></a>
0.19.44 (2022-02-17)</h1>
<h2><a class="anchor" id="autotoc_md637"></a>
Bug fixes</h2>
<p>Fix a crash that occasionally occurred when drag-selecting in a way that scrolled the editor.</p>
<h2><a class="anchor" id="autotoc_md638"></a>
New features</h2>
<p>The new <code><a class="el" href="classEditorView.html#a244c6a3054f22b234df6c6511c91517b" title="Indicates whether the user is currently in composing state.">EditorView.compositionStarted</a></code> property indicates whether a composition is starting.</p>
<h1><a class="anchor" id="autotoc_md639"></a>
0.19.43 (2022-02-16)</h1>
<h2><a class="anchor" id="autotoc_md640"></a>
Bug fixes</h2>
<p>Fix several issues where editing or composition went wrong due to our zero-width space kludge characters ending up in unexpected places.</p>
<p>Make sure the editor re-measures its dimensions whenever its theme changes.</p>
<p>Fix an issue where some keys on Android phones could leave the editor DOM unsynced with the actual document.</p>
<h1><a class="anchor" id="autotoc_md641"></a>
0.19.42 (2022-02-05)</h1>
<h2><a class="anchor" id="autotoc_md642"></a>
Bug fixes</h2>
<p>Fix a regression in cursor position determination after making an edit next to a widget.</p>
<h1><a class="anchor" id="autotoc_md643"></a>
0.19.41 (2022-02-04)</h1>
<h2><a class="anchor" id="autotoc_md644"></a>
Bug fixes</h2>
<p>Fix an issue where the editor's view of its content height could go out of sync with the DOM when a line-wrapping editor had its width changed, causing wrapping to change.</p>
<p>Fix a bug that caused the editor to draw way too much content when scrolling to a position in an editor (much) taller than the window.</p>
<p>Report an error when a replace decoration from a plugin crosses a line break, rather than silently ignoring it.</p>
<p>Fix an issue where reading DOM changes was broken when <code>lineSeparator</code> contained more than one character.</p>
<p>Make ordering of replace and mark decorations with the same extent and inclusivness more predictable by giving replace decorations precedence.</p>
<p>Fix a bug where, on Chrome, replacement across line boundaries and next to widgets could cause bogus zero-width characters to appear in the content.</p>
<h1><a class="anchor" id="autotoc_md645"></a>
0.19.40 (2022-01-19)</h1>
<h2><a class="anchor" id="autotoc_md646"></a>
Bug fixes</h2>
<p>Make composition input properly appear at secondary cursors (except when those are in the DOM node with the composition, in which case the browser won't allow us to intervene without aborting the composition).</p>
<p>Fix a bug that cause the editor to get confused about which content was visible after scrolling something into view.</p>
<p>Fix a bug where the dummy elements rendered around widgets could end up in a separate set of wrapping marks, and thus become visible.</p>
<p><code><a class="el" href="classEditorView.html#a9fb82d1c7ebbb68510c145af8842cc8e" title="Move a cursor position vertically.">EditorView.moveVertically</a></code> now preserves the <code>assoc</code> property of the input range.</p>
<p>Get rid of gaps between selection elements drawn by <code>drawSelection</code>.</p>
<p>Fix an issue where replacing text next to a widget might leak bogus zero-width spaces into the document.</p>
<p>Avoid browser selection mishandling when a focused view has <code>setState</code> called by eagerly refocusing it.</p>
<h1><a class="anchor" id="autotoc_md647"></a>
0.19.39 (2022-01-06)</h1>
<h2><a class="anchor" id="autotoc_md648"></a>
Bug fixes</h2>
<p>Make sure the editor signals a <code>geometryChanged</code> update when its width changes.</p>
<h2><a class="anchor" id="autotoc_md649"></a>
New features</h2>
<p><code>EditorView.darkTheme</code> can now be queried to figure out whether the editor is using a dark theme.</p>
<h1><a class="anchor" id="autotoc_md650"></a>
0.19.38 (2022-01-05)</h1>
<h2><a class="anchor" id="autotoc_md651"></a>
Bug fixes</h2>
<p>Fix a bug that caused line decorations with a <code>class</code> property to suppress all other line decorations for that line.</p>
<p>Fix a bug that caused scroll effects to be corrupted when further updates came in before they were applied.</p>
<p>Fix an issue where, depending on which way a floating point rounding error fell, <code>posAtCoords</code> (and thus vertical cursor motion) for positions outside of the vertical range of the document might or might not return the start/end of the document.</p>
<h1><a class="anchor" id="autotoc_md652"></a>
0.19.37 (2021-12-22)</h1>
<h2><a class="anchor" id="autotoc_md653"></a>
Bug fixes</h2>
<p>Fix regression where plugin replacing decorations that span to the end of the line are ignored.</p>
<h1><a class="anchor" id="autotoc_md654"></a>
0.19.36 (2021-12-22)</h1>
<h2><a class="anchor" id="autotoc_md655"></a>
Bug fixes</h2>
<p>Fix a crash in <code>posAtCoords</code> when the position lies in a block widget that is rendered but scrolled out of view.</p>
<p>Adding block decorations from a plugin now raises an error. Replacing decorations that cross lines are ignored, when provided by a plugin.</p>
<p>Fix inverted interpretation of the <code>precise</code> argument to <code>posAtCoords</code>.</p>
<h1><a class="anchor" id="autotoc_md656"></a>
0.19.35 (2021-12-20)</h1>
<h2><a class="anchor" id="autotoc_md657"></a>
Bug fixes</h2>
<p>The editor will now handle double-taps as if they are double-clicks, rather than letting the browser's native behavior happen (because the latter often does the wrong thing).</p>
<p>Fix an issue where backspacing out a selection on Chrome Android would sometimes only delete the last character due to event order issues.</p>
<p><code>posAtCoords</code>, without second argument, will no longer return null for positions below or above the document.</p>
<h1><a class="anchor" id="autotoc_md658"></a>
0.19.34 (2021-12-17)</h1>
<h2><a class="anchor" id="autotoc_md659"></a>
Bug fixes</h2>
<p>Fix a bug where content line elements would in some cases lose their <code>cm-line</code> class.</p>
<h1><a class="anchor" id="autotoc_md660"></a>
0.19.33 (2021-12-16)</h1>
<h2><a class="anchor" id="autotoc_md661"></a>
Breaking changes</h2>
<p><code>EditorView.scrollTo</code> and <code>EditorView.centerOn</code> are deprecated in favor of <code><a class="el" href="classEditorView.html#afe6a54f596754d87a069b917ab46bff9" title="Returns an effect that can be added to a transaction to cause it to scroll the given position or rang...">EditorView.scrollIntoView</a></code>, and will be removed in the next breaking release.</p>
<h2><a class="anchor" id="autotoc_md662"></a>
Bug fixes</h2>
<p>Fix an issue that could cause the editor to unnecessarily interfere with composition (especially visible on macOS Chrome).</p>
<p>A composition started with multiple lines selected will no longer be interruptd by the editor.</p>
<h2><a class="anchor" id="autotoc_md663"></a>
New features</h2>
<p>The new <code><a class="el" href="classEditorView.html#afe6a54f596754d87a069b917ab46bff9" title="Returns an effect that can be added to a transaction to cause it to scroll the given position or rang...">EditorView.scrollIntoView</a></code> function allows you to do more fine-grained scrolling.</p>
<h1><a class="anchor" id="autotoc_md664"></a>
0.19.32 (2021-12-15)</h1>
<h2><a class="anchor" id="autotoc_md665"></a>
Bug fixes</h2>
<p>Fix a bug where CodeMirror's own event handers would run even after a user-supplied handler called <code>preventDefault</code> on an event.</p>
<p>Properly draw selections when negative text-indent is used for soft wrapping.</p>
<p>Fix an issue where <code>viewportLineBlocks</code> could hold inaccurate height information when the vertical scaling changed.</p>
<p>Fixes drop cursor positioning when the document is scrolled. Force a content measure when the editor comes into view</p>
<p>Fix a bug that could cause the editor to not measure its layout the first time it came into view.</p>
<h1><a class="anchor" id="autotoc_md666"></a>
0.19.31 (2021-12-13)</h1>
<h2><a class="anchor" id="autotoc_md667"></a>
New features</h2>
<p>The package now exports a <code>dropCursor</code> extension that draws a cursor at the current drop position when dragging content over the editor.</p>
<h1><a class="anchor" id="autotoc_md668"></a>
0.19.30 (2021-12-13)</h1>
<h2><a class="anchor" id="autotoc_md669"></a>
Bug fixes</h2>
<p>Refine Android key event handling to work properly in a GBoard corner case where pressing Enter fires a bunch of spurious deleteContentBackward events.</p>
<p>Fix a crash in <code>drawSelection</code> for some kinds of selections.</p>
<p>Prevent a possibility where some content updates causes duplicate text to remain in DOM.</p>
<h2><a class="anchor" id="autotoc_md670"></a>
New features</h2>
<p>Support a <code>maxLength</code> option to <code><a class="el" href="classMatchDecorator.html" title="Helper class used to make it easier to maintain decorations on visible code that matches a given regu...">MatchDecorator</a></code> that allows user code to control how far it scans into hidden parts of viewport lines.</p>
<h1><a class="anchor" id="autotoc_md671"></a>
0.19.29 (2021-12-09)</h1>
<h2><a class="anchor" id="autotoc_md672"></a>
Bug fixes</h2>
<p>Fix a bug that could cause out-of-view editors to get a nonsensical viewport and fail to scroll into view when asked to.</p>
<p>Fix a bug where would return 0 when clicking below the content if the last line was replaced with a block widget decoration.</p>
<p>Fix an issue where clicking at the position of the previous cursor in a blurred editor would cause the selection to reset to the start of the document.</p>
<p>Fix an issue where composition could be interrupted if the browser created a new node inside a mark decoration node.</p>
<h1><a class="anchor" id="autotoc_md673"></a>
0.19.28 (2021-12-08)</h1>
<h2><a class="anchor" id="autotoc_md674"></a>
Bug fixes</h2>
<p>Fix an issue where pressing Enter on Chrome Android during composition did not fire key handlers for Enter.</p>
<p>Avoid a Chrome bug where the virtual keyboard closes when pressing backspace after a widget.</p>
<p>Fix an issue where the editor could show a horizontal scroll bar even after all lines that caused it had been deleted or changed.</p>
<h1><a class="anchor" id="autotoc_md675"></a>
0.19.27 (2021-12-06)</h1>
<h2><a class="anchor" id="autotoc_md676"></a>
Bug fixes</h2>
<p>Fix a bug that could cause <code><a class="el" href="classEditorView.html#a83719d83aaf44ed133a948f72bd16bc5" title="Get the value of a specific plugin, if present.">EditorView.plugin</a></code> to inappropriately return <code>null</code> during plugin initialization.</p>
<p>Fix a bug where a block widget without <code>estimatedHeight</code> at the end of the document could fail to be drawn</p>
<h1><a class="anchor" id="autotoc_md677"></a>
0.19.26 (2021-12-03)</h1>
<h2><a class="anchor" id="autotoc_md678"></a>
New features</h2>
<p>Widgets can now define a <code>destroy</code> method that is called when they are removed from the view.</p>
<h1><a class="anchor" id="autotoc_md679"></a>
0.19.25 (2021-12-02)</h1>
<h2><a class="anchor" id="autotoc_md680"></a>
Bug fixes</h2>
<p>Widgets around replaced ranges are now visible when their side does not point towards the replaced range.</p>
<p>A replaced line with a line decoration no longer creates an extra empty line block in the editor.</p>
<p>The <code>scrollPastEnd</code> extension will now over-reserve space at the bottom of the editor on startup, to prevent restored scroll positions from being clipped.</p>
<h2><a class="anchor" id="autotoc_md681"></a>
New features</h2>
<p><code>EditorView.editorAttributes</code> and <code>contentAttributes</code> may now hold functions that produce the attributes.</p>
<h1><a class="anchor" id="autotoc_md682"></a>
0.19.24 (2021-12-01)</h1>
<h2><a class="anchor" id="autotoc_md683"></a>
Bug fixes</h2>
<p>Fix a bug where <code>lineBlockAt</code>, for queries inside the viewport, would always return the first line in the viewport.</p>
<h1><a class="anchor" id="autotoc_md684"></a>
0.19.23 (2021-11-30)</h1>
<h2><a class="anchor" id="autotoc_md685"></a>
Bug fixes</h2>
<p>Fix an issue where after some kinds of changes, <code><a class="el" href="classEditorView.html#a52fb01aeb40f3ce1b38e5abb6a45b68b" title="Get the extent and vertical position of all line blocks in the viewport.">EditorView.viewportLineBlocks</a></code> held an out-of-date set of blocks.</p>
<h2><a class="anchor" id="autotoc_md686"></a>
New features</h2>
<p>Export <code><a class="el" href="classEditorView.html#adc54a9a2f35ed90f52ecccff7a097ae2" title="Reports the padding above and below the document.">EditorView.documentPadding</a></code>, with information about the vertical padding of the document.</p>
<h1><a class="anchor" id="autotoc_md687"></a>
0.19.22 (2021-11-30)</h1>
<h2><a class="anchor" id="autotoc_md688"></a>
Bug fixes</h2>
<p>Fix an issue where editors with large vertical padding (for example via <code>scrollPastEnd</code>) could sometimes lose their scroll position on Chrome.</p>
<p>Avoid some unnecessary DOM measuring work by more carefully checking whether it is needed.</p>
<h2><a class="anchor" id="autotoc_md689"></a>
New features</h2>
<p>The new <code>elementAtHeight</code>, <code>lineBlockAtHeight</code>, and <code>lineBlockAt</code> methods provide a simpler and more efficient replacement for the (now deprecated) <code>blockAtHeight</code>, <code>visualLineAtHeight</code>, and <code>visualLineAt</code> methods.</p>
<p>The editor view now exports a <code>documentTop</code> getter that gives you the vertical position of the top of the document. All height info is queried and reported relative to this top.</p>
<p>The editor view's new <code>viewportLineBlocks</code> property provides an array of in-viewport line blocks, and replaces the (now deprecated) <code>viewportLines</code> method.</p>
<h1><a class="anchor" id="autotoc_md690"></a>
0.19.21 (2021-11-26)</h1>
<h2><a class="anchor" id="autotoc_md691"></a>
Bug fixes</h2>
<p>Fix a problem where the DOM update would unnecessarily trigger browser relayouts.</p>
<h1><a class="anchor" id="autotoc_md692"></a>
0.19.20 (2021-11-19)</h1>
<h2><a class="anchor" id="autotoc_md693"></a>
Bug fixes</h2>
<p>Run a measure cycle when the editor's size spontaneously changes.</p>
<h1><a class="anchor" id="autotoc_md694"></a>
0.19.19 (2021-11-17)</h1>
<h2><a class="anchor" id="autotoc_md695"></a>
Bug fixes</h2>
<p>Fix a bug that caused the precedence of <code>editorAttributes</code> and <code>contentAttributes</code> to be inverted, making lower-precedence extensions override higher-precedence ones.</p>
<h1><a class="anchor" id="autotoc_md696"></a>
0.19.18 (2021-11-16)</h1>
<h2><a class="anchor" id="autotoc_md697"></a>
Bug fixes</h2>
<p>Fix an issue where the editor wasn't aware it was line-wrapping with its own <code>lineWrapping</code> extension enabled.</p>
<h1><a class="anchor" id="autotoc_md698"></a>
0.19.17 (2021-11-16)</h1>
<h2><a class="anchor" id="autotoc_md699"></a>
Bug fixes</h2>
<p>Avoid an issue where stretches of whitespace on line wrap points could cause the cursor to be placed outside of the content.</p>
<h1><a class="anchor" id="autotoc_md700"></a>
0.19.16 (2021-11-11)</h1>
<h2><a class="anchor" id="autotoc_md701"></a>
Breaking changes</h2>
<p>Block replacement decorations now default to inclusive, because non-inclusive block decorations are rarely what you need.</p>
<h2><a class="anchor" id="autotoc_md702"></a>
Bug fixes</h2>
<p>Fix an issue that caused block widgets to always have a large side value, making it impossible to show them between to replacement decorations.</p>
<p>Fix a crash that could happen after some types of viewport changes, due to a bug in the block widget view data structure.</p>
<h1><a class="anchor" id="autotoc_md703"></a>
0.19.15 (2021-11-09)</h1>
<h2><a class="anchor" id="autotoc_md704"></a>
Bug fixes</h2>
<p>Fix a bug where the editor would think it was invisible when the document body was given screen height and scroll behavior.</p>
<p>Fix selection reading inside a shadow root on iOS.</p>
<h1><a class="anchor" id="autotoc_md705"></a>
0.19.14 (2021-11-07)</h1>
<h2><a class="anchor" id="autotoc_md706"></a>
Bug fixes</h2>
<p>Fix an issue where typing into a read-only editor would move the selection.</p>
<p>Fix slowness when backspace is held down on iOS.</p>
<h1><a class="anchor" id="autotoc_md707"></a>
0.19.13 (2021-11-06)</h1>
<h2><a class="anchor" id="autotoc_md708"></a>
Bug fixes</h2>
<p>Fix a bug where backspace, enter, and delete would get applied twice on iOS.</p>
<h1><a class="anchor" id="autotoc_md709"></a>
0.19.12 (2021-11-04)</h1>
<h2><a class="anchor" id="autotoc_md710"></a>
Bug fixes</h2>
<p>Make sure the workaround for the lost virtual keyboard on Chrome Android also works on slower phones. Slight style change in beforeinput handler</p>
<p>Avoid failure cases in viewport-based rendering of very long lines.</p>
<h1><a class="anchor" id="autotoc_md711"></a>
0.19.11 (2021-11-03)</h1>
<h2><a class="anchor" id="autotoc_md712"></a>
Breaking changes</h2>
<p><code>EditorView.scrollPosIntoView</code> has been deprecated. Use the <code>EditorView.scrollTo</code> effect instead.</p>
<h2><a class="anchor" id="autotoc_md713"></a>
New features</h2>
<p>The new <code>EditorView.centerOn</code> effect can be used to scroll a given range to the center of the view.</p>
<h1><a class="anchor" id="autotoc_md714"></a>
0.19.10 (2021-11-02)</h1>
<h2><a class="anchor" id="autotoc_md715"></a>
Bug fixes</h2>
<p>Don't crash when <code>IntersectionObserver</code> fires its callback without any records. Try to handle some backspace issues on Chrome Android</p>
<p>Using backspace near uneditable widgets on Chrome Android should now be more reliable.</p>
<p>Work around a number of browser bugs by always rendering zero-width spaces around in-content widgets, so that browsers will treat the positions near them as valid cursor positions and not try to run composition across widget boundaries.</p>
<p>Work around bogus composition changes created by Chrome Android after handled backspace presses.</p>
<p>Work around an issue where tapping on an uneditable node in the editor would sometimes fail to show the virtual keyboard on Chrome Android.</p>
<p>Prevent translation services from translating the editor content. Show direction override characters as special chars by default</p>
<p><code>specialChars</code> will now, by default, replace direction override chars, to mitigate <a href="https://trojansource.codes/">https://trojansource.codes/</a> attacks.</p>
<h2><a class="anchor" id="autotoc_md716"></a>
New features</h2>
<p>The editor view will, if <code>parent</code> is given but <code>root</code> is not, derive the root from the parent element.</p>
<p><a class="el" href="classLine.html" title="This type describes a line in the document.">Line</a> decorations now accept a <code>class</code> property to directly add DOM classes to the line.</p>
<h1><a class="anchor" id="autotoc_md717"></a>
0.19.9 (2021-10-01)</h1>
<h2><a class="anchor" id="autotoc_md718"></a>
Bug fixes</h2>
<p>Fix an issue where some kinds of reflows in the surrounding document could move unrendered parts of the editor into view without the editor noticing and updating its viewport.</p>
<p>Fix an occasional crash in the selection drawing extension.</p>
<h1><a class="anchor" id="autotoc_md719"></a>
0.19.8 (2021-09-26)</h1>
<h2><a class="anchor" id="autotoc_md720"></a>
Bug fixes</h2>
<p>Fix a bug that could, on DOM changes near block widgets, insert superfluous line breaks.</p>
<p>Make interacting with a destroyed editor view do nothing, rather than crash, to avoid tripping people up with pending timeouts and such.</p>
<p>Make sure <code><a class="el" href="classViewUpdate.html#aaf96d6fd272e54e4fa72d3551de87a5b" title="Tells you whether the viewport or visible ranges changed in this update.">ViewUpdate.viewportChanged</a></code> is true whenever <code>visibleRanges</code> changes, so that plugins acting only on visible ranges can use it to check when to update.</p>
<p>Fix line-wise cut on empty lines.</p>
<h1><a class="anchor" id="autotoc_md721"></a>
0.19.7 (2021-09-13)</h1>
<h2><a class="anchor" id="autotoc_md722"></a>
Bug fixes</h2>
<p>The view is now aware of the new <code><a class="el" href="classEditorState.html#a98a0f957b861c95c9223e70385afb152" title="Returns true when the editor is configured to be read-only.">EditorState.readOnly</a></code> property, and suppresses events that modify the document when it is true.</p>
<h1><a class="anchor" id="autotoc_md723"></a>
0.19.6 (2021-09-10)</h1>
<h2><a class="anchor" id="autotoc_md724"></a>
Bug fixes</h2>
<p>Remove a <code>console.log</code> that slipped into the previous release.</p>
<h1><a class="anchor" id="autotoc_md725"></a>
0.19.5 (2021-09-09)</h1>
<h2><a class="anchor" id="autotoc_md726"></a>
New features</h2>
<p>The new <code>EditorView.scrollTo</code> effect can be used to scroll a given range into view.</p>
<h1><a class="anchor" id="autotoc_md727"></a>
0.19.4 (2021-09-01)</h1>
<h2><a class="anchor" id="autotoc_md728"></a>
Bug fixes</h2>
<p>Fix an issue where lines containing just a widget decoration wrapped in a mark decoration could be displayed with 0 height.</p>
<h1><a class="anchor" id="autotoc_md729"></a>
0.19.3 (2021-08-25)</h1>
<h2><a class="anchor" id="autotoc_md730"></a>
Bug fixes</h2>
<p>Fix a view corruption that could happen in situations involving overlapping mark decorations.</p>
<h1><a class="anchor" id="autotoc_md731"></a>
0.19.2 (2021-08-23)</h1>
<h2><a class="anchor" id="autotoc_md732"></a>
New features</h2>
<p>The package now exports a <code>scrollPastEnd</code> function, which returns an extension that adds space below the document to allow the last line to be scrolled to the top of the editor.</p>
<h1><a class="anchor" id="autotoc_md733"></a>
0.19.1 (2021-08-11)</h1>
<h2><a class="anchor" id="autotoc_md734"></a>
Breaking changes</h2>
<p>The view now emits new-style user event annotations for the transactions it generates.</p>
<h2><a class="anchor" id="autotoc_md735"></a>
Bug fixes</h2>
<p>Fix a bug where <code>coordsAtPos</code> would allow the passed <code>side</code> argument to override widget sides, producing incorrect cursor positions.</p>
<p>Fix a bug that could cause content lines to be misaligned in certain situations involving widgets at the end of lines.</p>
<p>Fix an issue where, if the browser decided to modify DOM attributes in the content in response to some editing action, the view failed to reset those again.</p>
<h1><a class="anchor" id="autotoc_md736"></a>
0.18.19 (2021-07-12)</h1>
<h2><a class="anchor" id="autotoc_md737"></a>
Bug fixes</h2>
<p>Fix a regression where <code>EditorView.editable.of(false)</code> didn't disable editing on Webkit-based browsers.</p>
<h1><a class="anchor" id="autotoc_md738"></a>
0.18.18 (2021-07-06)</h1>
<h2><a class="anchor" id="autotoc_md739"></a>
Bug fixes</h2>
<p>Fix a bug that caused <code><a class="el" href="classEditorView.html#a9fb82d1c7ebbb68510c145af8842cc8e" title="Move a cursor position vertically.">EditorView.moveVertically</a></code> to only move by one line, even when given a custom distance, in some cases.</p>
<p>Hide Safari's native bold/italic/underline controls for the content.</p>
<p>Fix a CSS problem that prevented Safari from breaking words longer than the line in line-wrapping mode.</p>
<p>Avoid a problem where composition would be inappropriately abored on Safari.</p>
<p>Fix drag-selection that scrolls the content by dragging past the visible viewport.</p>
<h2><a class="anchor" id="autotoc_md740"></a>
New features</h2>
<p><code>posAtCoords</code> now has an imprecise mode where it'll return an approximate position even for parts of the document that aren't currently rendered.</p>
<h1><a class="anchor" id="autotoc_md741"></a>
0.18.17 (2021-06-14)</h1>
<h2><a class="anchor" id="autotoc_md742"></a>
Bug fixes</h2>
<p>Make <code>drawSelection</code> behave properly when lines are split by block widgets.</p>
<p>Make sure drawn selections that span a single line break don't leave a gap between the lines.</p>
<h1><a class="anchor" id="autotoc_md743"></a>
0.18.16 (2021-06-03)</h1>
<h2><a class="anchor" id="autotoc_md744"></a>
Bug fixes</h2>
<p>Fix a crash that could occur when the document changed during mouse selection.</p>
<p>Fix a bug where composition inside styled content would sometimes be inappropriately aborted by editor DOM updates.</p>
<h2><a class="anchor" id="autotoc_md745"></a>
New features</h2>
<p><code>MouseSelectionStyle.update</code> may now return true to indicate it should be queried for a new selection after the update.</p>
<h1><a class="anchor" id="autotoc_md746"></a>
0.18.15 (2021-06-01)</h1>
<h2><a class="anchor" id="autotoc_md747"></a>
Bug fixes</h2>
<p>Fix a bug that would, in very specific circumstances, cause <code>posAtCoords</code> to go into an infinite loop in Safari.</p>
<p>Fix a bug where some types of IME input on Mobile Safari would drop text.</p>
<h1><a class="anchor" id="autotoc_md748"></a>
0.18.14 (2021-05-28)</h1>
<h2><a class="anchor" id="autotoc_md749"></a>
Bug fixes</h2>
<p>Fix an issue where the DOM selection was sometimes not properly updated when next to a widget.</p>
<p>Invert the order in which overlapping decorations are drawn so that higher-precedence decorations are nested inside lower-precedence ones (and thus override their styling).</p>
<p>Fix a but in <code>posAtCoords</code> where it would in some situations return -1 instead of <code>null</code>.</p>
<h2><a class="anchor" id="autotoc_md750"></a>
New features</h2>
<p>A new plugin field, <code>PluginField.atomicRanges</code>, can be used to cause cursor motion to skip past some ranges of the document.</p>
<h1><a class="anchor" id="autotoc_md751"></a>
0.18.13 (2021-05-20)</h1>
<h2><a class="anchor" id="autotoc_md752"></a>
Bug fixes</h2>
<p>Fix a bug that would cause the content DOM update to crash in specific circumstances.</p>
<p>Work around an issue where, after some types of changes, Mobile Safari would ignore Enter presses.</p>
<p>Make iOS enter and backspace handling more robust, so that platform bugs are less likely to break those keys in the editor.</p>
<p>Fix a regression where Esc + Tab no longer allowed the user to exit the editor.</p>
<h2><a class="anchor" id="autotoc_md753"></a>
New features</h2>
<p>You can now drop text files into the editor.</p>
<h1><a class="anchor" id="autotoc_md754"></a>
0.18.12 (2021-05-10)</h1>
<h2><a class="anchor" id="autotoc_md755"></a>
Bug fixes</h2>
<p>Work around a Mobile Safari bug where, after backspacing out the last character on a line, Enter didn't work anymore.</p>
<p>Work around a problem in Mobile Safari where you couldn't tap to put the cursor at the end of a line that ended in a widget.</p>
<h1><a class="anchor" id="autotoc_md756"></a>
0.18.11 (2021-04-30)</h1>
<h2><a class="anchor" id="autotoc_md757"></a>
Bug fixes</h2>
<p>Add an attribute to prevent the Grammarly browser extension from messing with the editor content.</p>
<p>Fix more issues around selection handling a Shadow DOM in Safari.</p>
<h1><a class="anchor" id="autotoc_md758"></a>
0.18.10 (2021-04-27)</h1>
<h2><a class="anchor" id="autotoc_md759"></a>
Bug fixes</h2>
<p>Fix a bug where some types of updates wouldn't properly cause marks around the changes to be joined in the DOM.</p>
<p>Fix an issue where the content and gutters in a fixed-height editor could be smaller than the editor height.</p>
<p>Fix a crash on Safari when initializing an editor in an unfocused window.</p>
<p>Fix a bug where the editor would incorrectly conclude it was out of view in some types of absolutely positioned parent elements.</p>
<h1><a class="anchor" id="autotoc_md760"></a>
0.18.9 (2021-04-23)</h1>
<h2><a class="anchor" id="autotoc_md761"></a>
Bug fixes</h2>
<p>Fix a crash that occurred when determining DOM coordinates in some specific situations.</p>
<p>Fix a crash when a DOM change that ended at a zero-width view element (widget) removed that element from the DOM.</p>
<p>Disable autocorrect and autocapitalize by default, since in most code-editor contexts they get in the way. You can use <code>EditorView.contentAttributes</code> to override this.</p>
<p>Fix a bug that interfered with native touch selection handling on Android.</p>
<p>Fix an unnecessary DOM update after composition that would disrupt touch selection on Android.</p>
<p>Add a workaround for Safari's broken selection reporting when the editor is in a shadow DOM tree.</p>
<p>Fix select-all from the context menu on Safari.</p>
<h1><a class="anchor" id="autotoc_md762"></a>
0.18.8 (2021-04-19)</h1>
<h2><a class="anchor" id="autotoc_md763"></a>
Bug fixes</h2>
<p>Handle selection replacements where the inserted text matches the start/end of the replaced text better.</p>
<p>Fix an issue where the editor would miss scroll events when it was placed in a DOM component slot.</p>
<h1><a class="anchor" id="autotoc_md764"></a>
0.18.7 (2021-04-13)</h1>
<h2><a class="anchor" id="autotoc_md765"></a>
Bug fixes</h2>
<p>Fix a crash when drag-selecting out of the editor with editable turned off.</p>
<p>Backspace and delete now largely work in an editor without a keymap.</p>
<p>Pressing backspace on iOS should now properly update the virtual keyboard's capitalize and autocorrect state.</p>
<p>Prevent random line-wrapping in (non-wrapping) editors on Mobile Safari. </p>
<h1><a class="anchor" id="autotoc_md766"></a>
0.18.6 (2021-04-08)</h1>
<h2><a class="anchor" id="autotoc_md767"></a>
Bug fixes</h2>
<p>Fix an issue in the compiled output that would break the code when minified with terser.</p>
<h1><a class="anchor" id="autotoc_md768"></a>
0.18.5 (2021-04-07)</h1>
<h2><a class="anchor" id="autotoc_md769"></a>
Bug fixes</h2>
<p>Improve handling of bidi text with brackets (conforming to Unicode 13's bidi algorithm).</p>
<p>Fix the position where <code>drawSelection</code> displays the cursor on bidi boundaries.</p>
<h1><a class="anchor" id="autotoc_md770"></a>
0.18.4 (2021-04-07)</h1>
<h2><a class="anchor" id="autotoc_md771"></a>
Bug fixes</h2>
<p>Fix an issue where the default focus ring gets obscured by the gutters and active line.</p>
<p>Fix an issue where the editor believed Chrome Android didn't support the CSS <code>tab-size</code> style.</p>
<p>Don't style active lines when there are non-empty selection ranges, so that the active line background doesn't obscure the selection.</p>
<p>Make iOS autocapitalize update properly when you press Enter.</p>
<h1><a class="anchor" id="autotoc_md772"></a>
0.18.3 (2021-03-19)</h1>
<h2><a class="anchor" id="autotoc_md773"></a>
Breaking changes</h2>
<p>The outer DOM element now has class <code>cm-editor</code> instead of <code>cm-wrap</code> (<code>cm-wrap</code> will be present as well until 0.19).</p>
<h2><a class="anchor" id="autotoc_md774"></a>
Bug fixes</h2>
<p>Improve behavior of <code>posAtCoords</code> when the position is near text but not in any character's actual box.</p>
<h1><a class="anchor" id="autotoc_md775"></a>
0.18.2 (2021-03-19)</h1>
<h2><a class="anchor" id="autotoc_md776"></a>
Bug fixes</h2>
<p>Triple-clicking now selects the line break after the clicked line (if any).</p>
<p>Fix an issue where the <code>drawSelection</code> plugin would fail to draw the top line of the selection when it started in an empty line.</p>
<p>Fix an issue where, at the end of a specific type of composition on iOS, the editor read the DOM before the browser was done updating it.</p>
<h1><a class="anchor" id="autotoc_md777"></a>
0.18.1 (2021-03-05)</h1>
<h2><a class="anchor" id="autotoc_md778"></a>
Bug fixes</h2>
<p>Fix an issue where, on iOS, some types of IME would cause the composed content to be deleted when confirming a composition.</p>
<h1><a class="anchor" id="autotoc_md779"></a>
0.18.0 (2021-03-03)</h1>
<h2><a class="anchor" id="autotoc_md780"></a>
Breaking changes</h2>
<p>The <code>themeClass</code> function and `<code>-style selectors in themes are no longer supported (prefixing with</code>cm-` should be done manually now).</p>
<p>Themes must now use <code>&amp;</code> (instead of an extra <code>$</code>) to target the editor wrapper element.</p>
<p>The editor no longer adds <code>cm-light</code> or <code>cm-dark</code> classes. Targeting light or dark configurations in base themes should now be done by using a <code>&amp;light</code> or <code>&amp;dark</code> top-level selector.</p>
<h1><a class="anchor" id="autotoc_md781"></a>
0.17.13 (2021-03-03)</h1>
<h2><a class="anchor" id="autotoc_md782"></a>
Bug fixes</h2>
<p>Work around a Firefox bug where it won't draw the cursor when it is between uneditable elements.</p>
<p>Fix a bug that broke built-in mouse event handling.</p>
<h1><a class="anchor" id="autotoc_md783"></a>
0.17.12 (2021-03-02)</h1>
<h2><a class="anchor" id="autotoc_md784"></a>
Bug fixes</h2>
<p>Avoid interfering with touch events, to allow native selection behavior.</p>
<p>Fix a bug that broke sub-selectors with multiple <code>&amp;</code> placeholders in themes.</p>
<h1><a class="anchor" id="autotoc_md785"></a>
0.17.11 (2021-02-25)</h1>
<h2><a class="anchor" id="autotoc_md786"></a>
Bug fixes</h2>
<p>Fix vertical cursor motion on Safari with a larger line-height.</p>
<p>Fix incorrect selection drawing (with <code>drawSelection</code>) when the selection spans to just after a soft wrap point.</p>
<p>Fix an issue where compositions on Safari were inappropriately aborted in some circumstances.</p>
<p>The view will now redraw when the <code>EditorView.phrases</code> facet changes, to make sure translated text is properly updated.</p>
<h1><a class="anchor" id="autotoc_md787"></a>
0.17.10 (2021-02-22)</h1>
<h2><a class="anchor" id="autotoc_md788"></a>
Bug fixes</h2>
<p>Long words without spaces, when line-wrapping is enabled, are now properly broken.</p>
<p>Fix the horizontal position of selections drawn by <code>drawSelection</code> in right-to-left editors with a scrollbar.</p>
<h1><a class="anchor" id="autotoc_md789"></a>
0.17.9 (2021-02-18)</h1>
<h2><a class="anchor" id="autotoc_md790"></a>
Bug fixes</h2>
<p>Fix an issue where pasting linewise at the start of a line left the cursor before the inserted content.</p>
<h1><a class="anchor" id="autotoc_md791"></a>
0.17.8 (2021-02-16)</h1>
<h2><a class="anchor" id="autotoc_md792"></a>
Bug fixes</h2>
<p>Fix a problem where the DOM selection and the editor state could get out of sync in non-editable mode.</p>
<p>Fix a crash when the editor was hidden on Safari, due to <code>getClientRects</code> returning an empty list.</p>
<p>Prevent Firefox from making the scrollable element keyboard-focusable.</p>
<h1><a class="anchor" id="autotoc_md793"></a>
0.17.7 (2021-01-25)</h1>
<h2><a class="anchor" id="autotoc_md794"></a>
New features</h2>
<p>Add an <code>EditorView.announce</code> state effect that can be used to conveniently provide screen reader announcements.</p>
<h1><a class="anchor" id="autotoc_md795"></a>
0.17.6 (2021-01-22)</h1>
<h2><a class="anchor" id="autotoc_md796"></a>
Bug fixes</h2>
<p>Avoid creating very high scroll containers for large documents so that we don't overflow the DOM's fixed-precision numbers.</p>
<h1><a class="anchor" id="autotoc_md797"></a>
0.17.5 (2021-01-15)</h1>
<h2><a class="anchor" id="autotoc_md798"></a>
Bug fixes</h2>
<p>Fix a bug that would create space-filling placeholders with incorrect height when document is very large.</p>
<h1><a class="anchor" id="autotoc_md799"></a>
0.17.4 (2021-01-14)</h1>
<h2><a class="anchor" id="autotoc_md800"></a>
Bug fixes</h2>
<p>The <code>drawSelection</code> extension will now reuse cursor DOM nodes when the number of cursors stays the same, allowing some degree of cursor transition animation.</p>
<p>Makes highlighted special characters styleable (``) and fix their default look in dark themes to have appropriate contrast.</p>
<h2><a class="anchor" id="autotoc_md801"></a>
New features</h2>
<p>Adds a new <code><a class="el" href="classMatchDecorator.html" title="Helper class used to make it easier to maintain decorations on visible code that matches a given regu...">MatchDecorator</a></code> helper class which can be used to easily maintain decorations on content that matches a regular expression.</p>
<h1><a class="anchor" id="autotoc_md802"></a>
0.17.3 (2021-01-06)</h1>
<h2><a class="anchor" id="autotoc_md803"></a>
New features</h2>
<p>The package now also exports a CommonJS module.</p>
<h1><a class="anchor" id="autotoc_md804"></a>
0.17.2 (2021-01-04)</h1>
<h2><a class="anchor" id="autotoc_md805"></a>
Bug fixes</h2>
<p>Work around Chrome problem where the native shift-enter behavior inserts two line breaks.</p>
<p>Make bracket closing and bracket pair removing more reliable on Android.</p>
<p>Fix bad cursor position and superfluous change transactions after pressing enter when in a composition on Android.</p>
<p>Fix issue where the wrong character was deleted when backspacing out a character before an identical copy of that character on Android.</p>
<h1><a class="anchor" id="autotoc_md806"></a>
0.17.1 (2020-12-30)</h1>
<h2><a class="anchor" id="autotoc_md807"></a>
Bug fixes</h2>
<p>Fix a bug that prevented <code><a class="el" href="classViewUpdate.html#a7feff80dcc65f282c527668012332945" title="True when this update indicates a focus change.">ViewUpdate.focusChanged</a></code> from ever being true.</p>
<h1><a class="anchor" id="autotoc_md808"></a>
0.17.0 (2020-12-29)</h1>
<h2><a class="anchor" id="autotoc_md809"></a>
Breaking changes</h2>
<p>First numbered release. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
